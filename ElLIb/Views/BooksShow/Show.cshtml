@model Book

@{
    ViewBag.Title = Model.MetaTitle;
    ViewBag.Description = Model.MetaDescription;
    ViewBag.KeyWords = Model.MetaKeywords;
}
<script src="~/js/ckeditor/ckeditor.js"></script>

<div>
    <h2>@Model.Title</h2>
    <h3>@Model.SubTitle</h3>
    <div>
        <img class="img-block" src="~/images/@Model.TitleImagePath">
    </div>

</div>
<div>
    @Html.Raw(Model.Text)
</div>
<hr>
@await Html.PartialAsync("CommentPartial")
<div>
    <form asp-controller="Comment" asp-action="Write" method="post" enctype="multipart/form-data">
    <div class="div-box">
        <label asp-for="Text"></label>
        <textarea asp-for="Text"></textarea>
        <span asp-validation-for="Text"></span>
    </div>
    <div hidden class="div-box">
        <textarea asp-for="Id"></textarea>
        <span asp-validation-for="Id"></span>
    </div>
    <input type="submit" value="Сохранить">
</form>
</div>
<script>
    window.onload = function() { 
        var newCKEdit = CKEDITOR.replace('@Html.IdFor(x=>x.Text)');
        newCKEdit.updateElement();
    }
</script>
